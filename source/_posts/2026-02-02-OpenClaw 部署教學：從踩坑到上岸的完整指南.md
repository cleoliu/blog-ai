---
title: OpenClaw 部署教學：從踩坑到上岸的完整指南
date: 2026-02-02 20:02:31
subtitle: 從零開始，macOS虛擬機打造專屬AI助理
categories:
  - AI/ML
tags:
  - openclaw
  - ai-assistant
  - macos
  - virtual-machine
  - deployment
cover_index: https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=450&h=450&fit=crop&crop=center
comments: true
---

> 🦞 原 Clawdbot、Moltbot，現在叫 OpenClaw——因為每隻太空龍蝦都需要一個響亮的名字。

如果你想要一個 24/7 運行的 AI 助理，能透過 Telegram 隨時聊天、幫你處理各種任務，那 OpenClaw 就是你的菜。這篇文章會帶你從零開始部署，包括我踩過的坑和最終的解決方案。

---

# OpenClaw 是什麼

OpenClaw 是一個 AI 助理網關，可以連接 WhatsApp、Telegram、Discord、iMessage 等聊天平台，讓你透過這些平台與 AI 代理互動。

簡單說就是：發訊息給它，它會用 AI 回覆你，還能幫你執行各種任務（查資料、寫程式、控制智慧家居等等）。

```
WhatsApp / Telegram / Discord / iMessage
        │
        ▼
  ┌───────────────────────────┐
  │      OpenClaw Gateway     │
  │     （你的 AI 助理中樞）    │
  └───────────┬───────────────┘
              │
              ├─ Pi agent (AI 代理)
              ├─ Skills (各種技能)
              └─ 你的工作區
```

# 建議資源配置

先說結論，不同部署方式的最低配置：

| 部署方式              | CPU     | 記憶體 | 硬碟 | 估計月費  |
| --------------------- | ------- | ------ | ---- | --------- |
| Linux VPS（推薦新手） | 2 vCPU  | 2GB    | 20GB | ~$5-12/月 |
| macOS VM（UTM）       | 2+ 核心 | 4GB+   | 60GB | 電費      |
| GCP e2-small          | 2 vCPU  | 2GB    | 20GB | ~$12/月   |

<aside>
💡 重點提醒：需要 iMessage 只能選 macOS。需要瀏覽器自動化，本地 macOS 比 VPS 更適合（很多網站會擋資料中心 IP）。

</aside>

---

# GCP VM vs macOS：我的踩坑經驗

## 我最初的選擇：GCP Compute Engine

一開始我選了 GCP，想說雲端 VPS 24/7 運行很穩定。結果發現幾個問題：

### GCP VM 的優點

- 真正的 24/7 運行，不怕停電
- 付費就有，不需要額外硬體
- 適合純文字聊天場景

### GCP VM 踩到的坑

1. **e2-micro 記憶體太小** — 1GB RAM 跑 OpenClaw 很緊，偶爾會 OOM 被 kill。解法：升級到 e2-small（2GB），但月費從免費變 $12
2. **瀏覽器自動化困難** — 很多網站會擋資料中心 IP，需要額外設定 headless browser + proxy
3. **技能功能受限** — 很多 macOS 專屬技能無法使用（imsg、memo、Peekaboo 等）。需要 iMessage 的話 GCP 完全沒戲

## VPS 部署的實際體驗

在 VPS 上部署 OpenClaw，若僅用於一次性任務，或作為 Telegram 指令的簡單觸發器，其實相當方便，部署流程也算順暢。

然而，若期望它穩定執行較複雜的任務，或長時間運作的 Cron Job、Heartbeat 類型流程，整體表現仍有明顯限制——不但錯誤頻繁，回應速度也偏慢。

因此我改採另一種做法。

## 最終選擇：UTM macOS 虛擬機

我的電腦是 MacBook Pro - Apple M3 Pro，其實效能算是很夠用，不過因為是工作電腦，加上設置了很多機敏資訊，怕太高權限給 OpenClaw，後來我改用 UTM 在 Apple Silicon Mac 上跑 macOS 虛擬機。

在本機 Mac 上透過 UTM 建立 macOS Server，再自行安裝 OpenClaw，整個流程並不複雜，而 UTM 作為虛擬化層，也多了一份隔離感與安全感。效果比 VPS 好很多：

### macOS VM 優點

- 完整的 macOS 環境，所有技能都能用
- 本地運行，網路請求來自住宅 IP
- 可以用 iMessage（透過 BlueBubbles）
- 隔離環境，不影響主系統

### macOS VM 缺點

- 需要實體 Mac 來當載體
- 需要保持電腦開機

### 結論：怎麼選？

| 你的需求               | 推薦方案                      |
| ---------------------- | ----------------------------- |
| 只要 Telegram 文字聊天 | Linux VPS（便宜穩定）         |
| 需要 iMessage          | macOS VM（唯一選擇）          |
| 需要瀏覽器自動化       | 本地 macOS + node             |
| 需要 24/7 + macOS 功能 | Mac mini 或 macOS VM 長期運行 |
| 預算有限 + 簡單需求    | GCP e2-micro 免費方案         |

---

# UTM macOS 虛擬機部署

UTM 是免費的虛擬化軟體，可以在 Apple Silicon Mac 上跑 macOS 虛擬機。

## 前置需求

- Apple Silicon Mac（M1/M2/M3/M4）
- macOS Sonoma 或更新版本
- 約 60GB 硬碟空間
- 20-30 分鐘時間

## 步驟 1：安裝 UTM

1. 從官網下載：[mac.getutm.app](https://mac.getutm.app/)

## 步驟2 ：在 UTM 建立虛擬機

1. 開啟 UTM → 點「+」新增 → 選「Virtualize」
2. 選「macOS 12+」
3. 配置資源：CPU 2 核心、RAM 4GB、硬碟 60GB 以上
4. 匯入IPSW：這裡不用選，會自動幫你下載最新的 Apple macOS IPSW
5. 完成並啟動

## 步驟 3：macOS 初始設定

1. 選語言、地區
2. Apple ID 可以跳過（除非你需要 iMessage）
3. 建立使用者帳號（記住帳號密碼）

## 步驟 4：啟用 SSH

1. 開啟「系統設定」→「一般」→「共享」
2. 開啟「遠端登入」（Remote Login）
3. 點右邊 i 符號可以看到 「若要從遠端登入此電腦，請輸入 `ssh <youruser>@192.169.64.x`」記下 VM 的 IP 位址

---

# AI 模型配置：省錢又好用的選擇

準備好 VM 之後我們先來選定要使用的 model，身為免費仔提供我自己研究的幾個免費方案。

### 1. Google Gemini Flash

- **免費方式**：如果你有新建的 GCP 帳號可以有 $300 鎂的額度可以使用，在 [Google AI Studio](https://aistudio.google.com/) 需綁定帳單（免費層級 gemini-2.5-flash 一天只有 25 次非常不夠用）
- **優點**：速度極快，支援超長 Context (你可以把整本小說丟給它)。
- **缺點**：免費版可能會被拿去訓練 (在意隱私者注意)，有速率限制。
- **設定方式**：
  1. 去 [Google AI Studio](https://aistudio.google.com/) 拿 API Key。
  2. 在 Config 裡設定 `provider: google`，模型選 `gemini-2.5-flash`

### 2. Google Antigravity

Google Antigravity IDE (一個類似 Cursor 的開發工具) 裡面的免費配額。

- **優點**：你可以免費享受到原本要付費的頂級模型效果。背後是 Gemini 3 Pro 或 Claude Sonnet 4.5，目前最強模型之一，回答邏輯極強，寫 Code 幾乎不會錯。
- **缺點**：目前屬於可免費試用期間，但 Google 不是吃素的，配額隨時會改，或是封鎖 API 轉發的行為。
- **結論**：如果你喜歡折騰，追求極致的免費聰明度，且不介意睡一覺起來 Bot 壞掉，那就選它。

### 3. Qwen

最近發現 Qwen 模型非常出色且實用，特別是在程式碼理解和生成方面表現突出。以下是配置 Qwen 模型的詳細步驟：

#### 步驟 1：註冊 Qwen Portal 帳號

1. 訪問 https://portal.qwen.ai 創建新帳號

#### 步驟 2：在 OpenClaw 中配置 Qwen

```bash
# 設定 Qwen 認證
openclaw models auth login --provider qwen-portal --set-default
# 會開啟瀏覽器提示你授權 Qwen
```

### 附錄：怎麼將原先配置好的 model 換成另一個提供商

1. 設置好之後查詢目前 model 設定，Default 可以看到當前使用的模型

   ```bash
   $ openclaw models

   🦞 OpenClaw 2026.1.30 (76b5208) — Your messages, your servers, your control.
   (node:1989) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
   (Use `node --trace-deprecation ...` to show where the warning was created)
   Config        : ~/.openclaw/openclaw.json
   Agent dir     : ~/.openclaw/agents/main/agent
   Default       : google-antigravity/claude-opus-4-5-thinking
   Fallbacks (0) : -
   Image model   : -
   Image fallbacks (0): -
   Aliases (1)   : qwen -> qwen-portal/coder-model
   Configured models (3): google-antigravity/claude-opus-4-5-thinking, qwen-portal/coder-model, qwen-portal/vision-model
   Auth overview
   Auth store    : ~/.openclaw/agents/main/agent/auth-profiles.json
   Shell env     : off
   Providers w/ OAuth/tokens (2): google-antigravity (1), qwen-portal (1)
   - google-antigravity effective=profiles:~/.openclaw/agents/main/agent/auth-profiles.json | profiles=1 (oauth=1, token=0, api_key=0) | google-antigravity:axiom7.ai@gmail.com=OAuth (axiom7.ai@gmail.com)
   - qwen-portal effective=profiles:~/.openclaw/agents/main/agent/auth-profiles.json | profiles=1 (oauth=1, token=0, api_key=0) | qwen-portal:default=OAuth | models.json=qwen-oauth | source=models.json: ~/.openclaw/agents/main/agent/models.json
   OAuth/token status
   - google-antigravity usage: gpt-oss-120b-medium 100% left ⏱4h 59m · gemini-3-flash 100% left ⏱4h 59m
   - google-antigravity:axiom7.ai@gmail.com (axiom7.ai@gmail.com) ok expires in 47m
   - qwen-portal
   - qwen-portal:default ok expires in 0m
   ```

2. 可以到文檔 [providers](https://docs.openclaw.ai/providers) 中查看授權指令、並執行，設置好之後再查詢一次會看到 Default 已經換成新的模型

   ```bash
   openclaw models
   ```

3. 後續想再切換回來可以使用這個使令來切換

   ```bash
   openclaw models set <model>
   ```

4. 配置完成後，重啟 OpenClaw：

   ```bash
   openclaw gateway restart
   ```

5. 然後可以使用以下命令測試：

   ```bash
   # 查看可用模型
   openclaw models list
   ```

---

# Telegram bot 申請教學

再來準備 Telegram 的部分。這是讓你隨時隨地與 AI 聊天的關鍵。

## 步驟 1：建立 Telegram Bot

1. 開啟 Telegram，搜尋 @BotFather
2. 發送 `/newbot`
3. 輸入 Bot 名稱（例如：My OpenClaw Bot）
4. 輸入 Bot 使用者名稱（必須以 `_bot` 結尾）
5. BotFather 會給你一個 Token，保管好！

```bash
Use this token to access the HTTP API: xxxxxx
```

---

# 安裝 OpenClaw

## 步驟 1：安裝 OpenClaw

```bash
# 從你的主系統 SSH 進 VM，也可以直接進到 UTM VM 使用終端機安裝
ssh <youruser>@192.168.64.x

# 安裝 OpenClaw
curl -fsSL https://openclaw.ai/install.sh | bash
# 接著會進入安裝程序

# 如果沒有可以執行這個命令開始初始設定
openclaw onboard --install-daemon
```

## 步驟 2：OpenClaw onborad 流程

```bash
1. I understand this powerful and inherently rishy. Continue?
會出現一些安全性的提示，沒問題就選 Yes 繼續

2. Onboarsing node
建議使用 QuickStart 快速安裝

3. Model/auth provider
選擇你要使用的模型服務
我選 google > Antigravity 接著會在瀏覽器跳出登入授權畫面，登入即可
模型可以選預設就好

4. Select channel (QuickStart)
使用的 App 溝通管道，我選 Telegram，輸入剛剛 BotFather 取得的 Token

5. Configure skills now? (recommended)
Skills 部分，可以選第一個 npm，然後勾許你需要的安裝

6. 接著會詢問你其他 API Key，沒有的話都選 No

7. Enable hooks?
先選 Skip for now

8. 接著安裝完成會跳到 dashborad 的 Chat 畫面可以直接在上面跟 bot 對話了！
```

## 步驟 3：配對你的 Telegram

1. 在 Telegram 中，找到你剛建立的 Bot

2. 發送任何訊息（例如 hello）

3. Bot 會回覆配對碼，類似：

   ```
   OpenClaw: access not configured.
   Your Telegram user id: 8444190675
   Pairing code: JYWKCCMM
   ```

4. 在 OpenClaw dashborad > Chat 直接貼上上面那段訊息：

完成！現在可以在 Telegram 開始聊天了 🎉

## 常用指令

- `/status` — 查看狀態
- `/reset` — 重置對話
- `/model` — 查看/切換模型
- `/reasoning` — 開關推理模式

---

# 常見問題排解

- Q: Gateway 沒有回應

  ```bash
  # 檢查狀態
  openclaw status

  # 看 log
  openclaw logs --follow
  ```

  常見原因：沒有設定 AI 模型、API Key 無效或過期、網路問題

- Q: Telegram Bot 不回訊息
  1. 確認 Bot Token 正確
  2. 確認已經配對成功
  3. 檢查 dmPolicy 設定
  ```bash
  openclaw channels status
  ```
- Q: 記憶體不足（OOM）
  如果是 VM 或 VPS：增加 RAM（至少 2GB）、減少同時運行的服務。如果是本地：關閉不必要的應用程式、不要用太大的本地模型。
- Q: 如何更新 OpenClaw

  ```bash
  # npm 安裝
  npm update -g openclaw

  # 重啟服務
  openclaw gateway restart
  ```

---

# 結語

部署 OpenClaw 確實有學習曲線，但一旦設定好，你就有了一個隨時待命的 AI 助理。

我的建議：

1. 新手：從 Linux VPS 開始，便宜簡單
2. 需要完整功能：用 macOS VM 或本地 Mac
3. 模型選擇：Venice AI 是目前 CP 值最高的選項

---

## 參考資料

- OpenClaw 官方文件：docs.openclaw.ai
- GitHub：github.com/openclaw/openclaw
- Discord 社群：discord.com/invite/clawd
