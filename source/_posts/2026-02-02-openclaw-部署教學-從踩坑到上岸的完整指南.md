---
title: OpenClaw AI助理網關部署：從踩坑到上岸完整指南
date: 2026-02-02 20:02:31
subtitle: 環境配置、模型整合與常見問題解決
categories:
  - AI/ML
tags:
  - openclaw
  - ai-assistant
  - deployment
  - telegram-bot
  - tutorial
cover_index: https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=450&h=450&fit=crop&crop=center
---

# OpenClaw 部署教學：從踩坑到上岸的完整指南

## 導言

在數位時代，一個全天候運行的 AI 助理能極大提升我們的效率。OpenClaw 正是這樣一個強大的 AI 助理網關，它能連接 Telegram、WhatsApp、Discord 等多種聊天平台，讓你能隨時隨地與 AI 代理互動，執行查資料、寫程式、控制智慧家居等多元任務。本文旨在提供一份從零開始部署 OpenClaw 的完整技術教學，涵蓋環境選擇、模型配置、Telegram Bot 申請及 OpenClaw 安裝的詳細步驟，並分享部署過程中可能遇到的問題及解決方案，助你順利「上岸」。

OpenClaw 的核心理念是將你的 AI 助理中樞化，並透過各種聊天平台進行互動。其架構示意圖如下：

```
WhatsApp / Telegram / Discord / iMessage
        │
        ▼
  ┌───────────────────────────┐
  │      OpenClaw Gateway     │
  │     （你的 AI 助理中樞）    │
  └───────────┬───────────────┘
              │
              ├─ Pi agent (AI 代理)
              ├─ Skills (各種技能)
              └─ 你的工作區
```

## 前置需求

在開始部署之前，你需要根據你的需求選擇合適的部署環境，並準備相應的資源。

### 1. 部署環境選擇與資源配置

OpenClaw 支援多種部署方式，每種都有其優缺點及資源要求。

| 部署方式           | CPU      | 記憶體 | 硬碟 | 估計月費   | 備註                                       |
| :----------------- | :------- | :----- | :--- | :--------- | :----------------------------------------- |
| Linux VPS（推薦新手） | 2 vCPU   | 2GB    | 20GB | ~$5-12/月  | 適合純文字聊天，部署簡單。                 |
| macOS VM（UTM）    | 2+ 核心  | 4GB+   | 60GB | 電費       | 支援所有 macOS 專屬技能，需實體 Mac。      |
| GCP e2-small       | 2 vCPU   | 2GB    | 20GB | ~$12/月    | 雲端穩定，但部分功能受限。                 |
| GCP e2-micro       | 1 vCPU   | 1GB    | 20GB | 免費層級   | 記憶體可能不足，不建議長期運行。           |
| 本地 macOS         | 依電腦配置 | 依電腦配置 | 依電腦配置 | 電費       | 效能最佳，但需保持電腦開機。               |

**重要提示：**
*   若需要使用 iMessage 相關功能，macOS 環境是唯一選擇。
*   對於瀏覽器自動化任務，本地 macOS 環境通常比雲端 VPS 更適合，因為許多網站會阻擋資料中心 IP。

**如何選擇？**

| 你的需求                 | 推薦方案                  |
| :----------------------- | :------------------------ |
| 只要 Telegram 文字聊天   | Linux VPS（便宜穩定）     |
| 需要 iMessage            | macOS VM（唯一選擇）      |
| 需要瀏覽器自動化         | 本地 macOS + Node.js      |
| 需要 24/7 運行 + macOS 功能 | Mac mini 或 macOS VM 長期運行 |
| 預算有限 + 簡單需求      | GCP e2-micro 免費方案     |

### 2. macOS VM (UTM) 特定前置需求

如果你選擇在 macOS 虛擬機上部署，你需要：

*   **硬體**: Apple Silicon Mac (M1/M2/M3/M4 系列)
*   **作業系統**: macOS Sonoma 或更新版本
*   **儲存空間**: 約 60GB 的硬碟空間
*   **時間**: 預留 20-30 分鐘進行安裝與初始設定

## 實作步驟

本節將詳細說明 OpenClaw 的部署流程，以 UTM macOS 虛擬機為例，並涵蓋 AI 模型配置和 Telegram Bot 的申請。

### 步驟 1：部署 macOS 虛擬機 (UTM)

UTM 是一個免費且開源的虛擬化軟體，專為 Apple Silicon Mac 設計。

1.  **安裝 UTM**:
    *   從官方網站下載：[mac.getutm.app](https://mac.getutm.app/)
    *   或使用 Homebrew 安裝：
        ```bash
        brew install --cask utm
        ```

2.  **在 UTM 建立虛擬機**:
    *   開啟 UTM 應用程式。
    *   點擊左上角的「+」號新增虛擬機。
    *   選擇「Virtualize」（虛擬化）。
    *   選擇「macOS 12+」。
    *   **配置資源**：建議設定 CPU 2 核心、RAM 4GB、硬碟 60GB 以上。
    *   **匯入 IPSW**: 選擇「Download macOS 12+ IPSW」，UTM 會自動下載最新版本的 macOS IPSW 檔案。
    *   完成設定並啟動虛擬機。

3.  **macOS 初始設定**:
    *   虛擬機啟動後，按照螢幕指示完成 macOS 的初始設定。
    *   選擇語言和地區。
    *   Apple ID 可以跳過（除非你需要使用 iMessage）。
    *   建立一個新的使用者帳號（請記住此帳號的用戶名和密碼）。

4.  **啟用 SSH 遠端登入**:
    *   在虛擬機內，開啟「系統設定」。
    *   導航至「一般」>「共享」。
    *   啟用「遠端登入」（Remote Login）。
    *   點擊「遠端登入」右側的「i」符號，你將看到 SSH 登入指令，例如：`ssh <youruser>@192.169.64.x`。記下虛擬機的 IP 位址（例如 `192.169.64.x`），這將用於從主機連接虛擬機。

### 步驟 2：AI 模型配置

選擇一個適合你的 AI 模型服務是 OpenClaw 運作的關鍵。以下提供幾個免費或高性價比的選擇：

1.  **Google Gemini Flash**
    *   **免費方式**: 新建 GCP 帳號通常有 $300 美元的免費額度。在 [Google AI Studio](https://aistudio.google.com/) 綁定帳單後，免費層級 `gemini-2.5-flash` 每日有 25 次請求限制。
    *   **優點**: 速度極快，支援超長上下文，有免費額度。
    *   **缺點**: 免費版可能用於模型訓練（隱私考量），有速率限制。
    *   **設定方式**:
        1.  前往 [Google AI Studio](https://aistudio.google.com/) 獲取 API Key。
        2.  在 OpenClaw 配置中，設定 `provider: google`，模型選擇 `gemini-2.5-flash`。

2.  **Google Antigravity (高風險高回報)**
    *   這是利用 Google Antigravity IDE（類似 Cursor 的開發工具）的免費配額。
    *   **優點**: 免費享用頂級模型（Gemini 3 Pro 或 Claude Sonnet 4.5）的效果，回答邏輯強，程式碼生成準確。
    *   **缺點**: 屬於免費試用性質，無付費方案，配額和可用性隨時可能變動或被封鎖。
    *   **結論**: 適合喜歡折騰、追求極致免費智慧且不介意不穩定性的使用者。

3.  **Qwen 2.5 (通義千問)**
    *   **優點**: 目前開源界最強的模型之一，尤其對中文的網路梗、語氣理解甚至優於 GPT-4。目前只需授權登入即可使用。
    *   **設定方式**: 在 OpenClaw 配置中選擇 Qwen 作為模型服務提供者，並按照指示完成授權。

### 3. Telegram Bot 申請教學

Telegram Bot 是你與 OpenClaw 互動的介面。

1.  **開啟 Telegram，搜尋 @BotFather**。
2.  **發送 `/newbot` 指令**。
3.  **輸入 Bot 名稱**（例如：`My OpenClaw Assistant`）。
4.  **輸入 Bot 使用者名稱**（必須以 `bot` 結尾，例如：`MyOpenClawAssistant_bot`）。
5.  **BotFather 將會提供一個 Token**，請務必妥善保管此 Token。它看起來像這樣：
    ```
    Use this token to access the HTTP API: 1234567890:ABCDEFGHIJKLMN_OPQRSTUVWXYZabcdefg
    ```

### 步驟 4：安裝 OpenClaw

現在，你將在虛擬機中安裝 OpenClaw。你可以直接在 UTM 虛擬機的終端機中操作，或透過 SSH 連線。

1.  **SSH 連入虛擬機 (推薦)**：
    *   從你的主系統終端機執行以下指令（將 `youruser` 和 `192.168.64.x` 替換為你在步驟 1-4 記下的資訊）：
        ```bash
        ssh youruser@192.168.64.x
        ```

2.  **安裝 Homebrew 和 Node.js**：
    *   如果虛擬機中尚未安裝 Homebrew，請執行：
        ```bash
        /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
        ```
    *   安裝 Node.js (OpenClaw 的運行環境)：
        ```bash
        brew install node
        ```

3.  **安裝 OpenClaw**:
    *   執行 OpenClaw 官方安裝腳本：
        ```bash
        curl -fsSL https://openclaw.ai/install.sh | bash
        ```
    *   如果安裝後沒有自動進入初始設定，可以手動執行：
        ```bash
        openclaw onboard --install-daemon
        ```

4.  **OpenClaw 初始設定流程**:
    *   安裝腳本會引導你完成設定：
        1.  `I understand this powerful and inherently risky. Continue?`
            *   閱讀安全提示後，選擇 `Yes` 繼續。
        2.  `Onboarding node`
            *   建議選擇 `QuickStart` 進行快速安裝。
        3.  `Model/auth provider`
            *   選擇你希望使用的 AI 模型服務（例如 `google`）。
            *   如果選擇 `Antigravity`，會自動在瀏覽器中跳出登入授權畫面，完成登入即可。
            *   模型選擇預設即可。
        4.  `Select channel (QuickStart)`
            *   選擇你希望 OpenClaw 溝通的平台，此處選擇 `Telegram`。
            *   輸入你在步驟 3 取得的 Telegram Bot Token。
        5.  `Configure skills now? (recommended)`
            *   選擇第一個選項 `npm`，然後勾選你需要的技能進行安裝。
        6.  `接著會詢問你其他 API Key，沒有的話都選 No`。
        7.  `Enable hooks?`
            *   先選擇 `Skip for now`。
        8.  安裝完成後，系統會跳轉到 OpenClaw dashboard 的 Chat 畫面，你可以在此直接與 Bot 對話。

### 步驟 5：配對你的 Telegram Bot

OpenClaw 安裝完成後，需要將你的 Telegram 帳號與 Bot 進行配對。

1.  在 Telegram 應用程式中，搜尋並找到你剛才建立的 Bot。
2.  向你的 Bot 發送任何訊息（例如：「hello」）。
3.  Bot 會回覆一個配對碼，類似以下訊息：
    ```
    OpenClaw: access not configured.
    Your Telegram user id: 8444190675
    Pairing code: JYWKCCMM
    ```
4.  複製這段訊息（包含 `OpenClaw: access not configured.` 到 `Pairing code: JYWKCCMM`）。
5.  回到 OpenClaw dashboard 的 Chat 畫面，將這段訊息直接貼上並發送。
6.  完成！現在你可以在 Telegram 中開始與你的 OpenClaw AI 助理聊天了！

### 常用指令

在 Telegram 中，你可以使用以下指令與 OpenClaw 互動：

*   `/status` — 查看 OpenClaw 的運行狀態。
*   `/reset` — 重置當前對話的上下文。
*   `/model` — 查看或切換當前使用的 AI 模型。
*   `/reasoning` — 開啟或關閉 AI 的推理模式。

## 常見錯誤與解法

在部署和使用 OpenClaw 的過程中，你可能會遇到一些問題。以下是一些常見問題及其排解方法：

1.  **Q: Gateway 沒有回應**
    *   **檢查狀態**:
        ```bash
        openclaw status
        ```
    *   **查看日誌**:
        ```bash
        openclaw logs --follow
        ```
    *   **常見原因**: 沒有設定 AI 模型、API Key 無效或過期、網路連線問題。請檢查你的模型配置和網路連接。

2.  **Q: Telegram Bot 不回訊息**
    *   **確認 Bot Token 正確**: 檢查你在 OpenClaw 設定中輸入的 Telegram Bot Token 是否與 BotFather 提供的一致。
    *   **確認已配對成功**: 確保你已完成 Telegram 帳號與 OpenClaw 的配對步驟。
    *   **檢查 dmPolicy 設定**:
        ```bash
        openclaw channels status
        ```
        確認 `dmPolicy` 設定允許你的 Telegram 用戶 ID 訪問。

3.  **Q: 記憶體不足（OOM - Out Of Memory）**
    *   **如果是 VM 或 VPS**: 增加虛擬機的 RAM（建議至少 2GB，最好 4GB），或減少同時運行的服務。
    *   **如果是本地部署**: 關閉不必要的應用程式，避免使用過大的本地 AI 模型。

4.  **Q: 如何更新 OpenClaw**
    *   **使用 npm 更新**:
        ```bash
        npm update -g openclaw
        ```
    *   **重啟服務**:
        ```bash
        openclaw gateway restart
        ```

## 延伸應用與學習資源

恭喜你成功部署了 OpenClaw！這只是開始，你可以進一步探索其強大功能：

*   **技能擴展**: OpenClaw 支援各種技能 (Skills)，你可以安裝更多預設技能，甚至開發自訂技能來擴展其功能，例如整合智慧家居、日曆管理等。
*   **多平台整合**: 嘗試將 OpenClaw 連接到 WhatsApp、Discord 或 iMessage (需 macOS 環境) 等其他聊天平台。
*   **模型切換與微調**: 嘗試不同的 AI 模型，找到最適合你需求的模型，或研究如何對模型進行微調以優化特定任務的表現。

### 參考資料

*   **OpenClaw 官方文件**: [docs.openclaw.ai](https://docs.openclaw.ai/)
*   **GitHub 專案**: [github.com/openclaw/openclaw](https://github.com/openclaw/openclaw)
*   **Discord 社群**: [discord.com/invite/clawd](https://discord.com/invite/clawd)

透過這些資源，你可以更深入地了解 OpenClaw 的功能、參與社群討論，並持續優化你的 AI 助理體驗。祝你在 AI 的世界中探索愉快！